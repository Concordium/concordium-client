resolver: lts-24.0

packages:
- .
- ./deps/concordium-base

extra-deps:
- network-control-0.0.2
- http2-5.0.1
- tls-1.8.0
# http2-client was never included in stackage
- github: Concordium/http2-client
  commit: af0edc5fba5265ba9a4b2f91cfc3c466e4c82197

- github: Concordium/http2-grpc-haskell
  commit: 61fe303559bab35bc8da0ead4b41448f84b529b2
  subdirs:
    - http2-client-grpc
    - http2-grpc-proto-lens
    - http2-grpc-types

# We allow newer versions of dependencies because we use
# old versions of http2-client and http2-grpc-haskell, which
# have not been updated.
allow-newer: true

extra-lib-dirs:
- ./deps/concordium-base/rust-src/target/x86_64-unknown-linux-musl/release

flags:
  concordium-client:
    static: true
